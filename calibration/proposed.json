{
  "regimes": {
    "squeeze": { "EXTREME": 0.85, "HIGH": 0.65, "MEDIUM": 0.45, "LOW": 0.25 },
    "meanrev": { "EXTREME": 0.82, "HIGH": 0.62, "MEDIUM": 0.42, "LOW": 0.25 }
  },
  "scoring": {
    "strategy": "hybrid_v1",
    "preset": "balanced_default",
    "presets": {
      "squeeze_aggressive": {
        "weights": {
          "squeeze": 0.35,
          "volume_momentum": 0.30,
          "catalyst": 0.20,
          "options": 0.10,
          "technical": 0.05
        }
      },
      "catalyst_heavy": {
        "weights": {
          "catalyst": 0.35,
          "volume_momentum": 0.30,
          "squeeze": 0.20,
          "options": 0.10,
          "technical": 0.05
        }
      },
      "balanced_default": {
        "weights": {
          "volume_momentum": 0.35,
          "squeeze": 0.25,
          "catalyst": 0.20,
          "options": 0.10,
          "technical": 0.10
        }
      }
    },
    "hybrid_v1": {
      "weights": {
        "volume_momentum": 0.35,
        "squeeze": 0.25,
        "catalyst": 0.20,
        "options": 0.10,
        "technical": 0.10
      },
      "thresholds": {
        "min_relvol_30": 0.5,
        "min_atr_pct": 0.02,
        "rsi_band": [60, 70],
        "ema_fast": 9,
        "ema_slow": 20,
        "iv_percentile_min": 80,
        "call_put_min": 2.0,
        "short_interest_min": 0.15,
        "float_max": 75000000,
        "alt_path_large_float": {
          "float_min": 150000000,
          "short_interest_min": 0.20,
          "borrow_fee_min": 0.20,
          "utilization_min": 0.85
        },
        "require_vwap_reclaim": false,
        "session_overrides": {
          "premarket": {
            "enabled": false,
            "min_relvol_30": 2.0,
            "min_atr_pct": 0.03,
            "require_vwap_reclaim": false
          },
          "afterhours": {
            "enabled": false,
            "min_relvol_30": 0.8,
            "min_atr_pct": 0.02,
            "require_vwap_reclaim": false
          },
          "regular": {
            "enabled": false
          }
        },
        "vwap_proximity_pct": 0.0,
        "mid_float_path": {
          "enabled": false,
          "float_min": 75000000,
          "float_max": 150000000,
          "short_interest_min": 0.12,
          "borrow_fee_min": 0.10,
          "utilization_min": 0.75,
          "require_one_of": {
            "news_catalyst": true,
            "social_rank_min": 0.85,
            "call_put_ratio_min": 2.5
          }
        },
        "soft_gate_tolerance": 0.10,
        "max_soft_pass": 2
      },
      "entry_rules": {
        "watchlist_min": 0.15,
        "trade_ready_min": 0.25
      },
      "safety_guardrails": {
        "max_candidates": 100,
        "min_dollar_volume_premarket": 2000000,
        "emergency_fallback": true,
        "max_latency_ms": 15000
      }
    }
  },
  "change_summary": {
    "sept_07_2025_validation_fixes": {
      "entry_rules_scale_correction": {
        "from": {"watchlist_min": 5, "trade_ready_min": 8},
        "to": {"watchlist_min": 0.15, "trade_ready_min": 0.25},
        "rationale": "Fixed 100x scale mismatch - scores are decimals (0.26=26%), not percentages",
        "impact": "Enables candidates scoring 15-40% to pass entry gates instead of requiring impossible 500-800% scores"
      },
      "relvol_afterhours_gate_fix": {
        "from": "afterhours enforcement despite enabled: false",
        "to": "properly disabled afterhours enforcement with relaxed threshold 1.8â†’0.8",
        "rationale": "20 candidates rejected due to session override bug",
        "impact": "Restores 45% of candidates previously filtered out"
      },
      "soft_gate_tolerance_increase": {
        "from": "max_soft_pass: 0",
        "to": "max_soft_pass: 2",
        "rationale": "Allow flexibility for candidates marginally missing thresholds",
        "impact": "Permits up to 2 soft gate failures per candidate"
      }
    }
  },
  "expected_outcomes": {
    "candidate_increase": "15-35 opportunities per scan (vs current 0 hybrid_v1)",
    "score_distribution": "15-45% range with proper threshold alignment",
    "gate_pass_rate": "30-40% improvement from relvol/session fixes",
    "discovery_latency": "<8 seconds maintained"
  },
  "deployment_validation": {
    "pre_deployment_tests": [
      "curl -s 'API/discovery/test?strategy=hybrid_v1&limit=50' | jq '.items | length'",
      "curl -s 'API/discovery/strategy-validation' | jq '.comparison.candidate_count_diff'",
      "curl -s -X POST 'API/discovery/trigger?strategy=hybrid_v1' | jq '.candidates_found'"
    ]
  },
  "effective_at": "2025-09-07T05:15:00Z",
  "version": "1.2.0",
  "validation_engine": "amc-validation-engine-v2",
  "approved_by": "system_validation",
  "deployment_notes": "CRITICAL: Addresses 100x scale mismatch in entry rules and afterhours gate enforcement bug. Deploy immediately to restore hybrid_v1 functionality."
}
